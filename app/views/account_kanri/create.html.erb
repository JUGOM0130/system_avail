<div class="container" id="app">
    <h1 class="mt-3 mb-5"><%= @title %></h1>

    <%= form_with url:"create",method: :post do |f| %>
    <div class="mb-3">
        <% # セレクトボックス作成　第三引数オプション　第四引数HTMLオプション指定 %>
        <%= f.select :kind, @kinds, {},{id:"kind", class:"form-select"} %>
    </div>
    <div class="row">
        <div class="col">
            <div class="mb-3">
                <% #for: は無くても自動生成してくれるみたい %>
                <%= f.label :user_cd, "ユーザコード",for:"user_cd", class:"form-label" %>
                <%= f.text_field :user_cd, placeholder:"0000", class:"form-control", onblur:"aaa()"%>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <%= f.label :user_name, "ユーザー名", class:"form-label" %>
                <%= f.text_field :user_name, placeholder:"(株)Avail", class:"form-control"%>
            </div>
        </div>
    </div>
    <div class="mb-3">
        <%= f.label :id, "ID", class:"form-label" %>
        <%= f.text_field :id, placeholder:"", class:"form-control"%>
    </div>
    <div class="mb-3">
        <%= f.label :password, "PASSWORD", class:"form-label" %>
        <%= f.text_field :password, placeholder:"", class:"form-control"%>
    </div>
    <div class="mb-3">
        <%= f.label :biko1, "備考1", class:"form-label" %>
        <%= f.text_field :biko1, placeholder:"", class:"form-control"%>
    </div>
    <div class="mb-3">
        <%= f.label :biko2, "備考2", class:"form-label" %>
        <%= f.text_field :biko2, placeholder:"", class:"form-control"%>
    </div>
    <div class="mb-3">
        <%= f.label :biko3, "備考3", class:"form-label" %>
        <%= f.text_field :biko3, placeholder:"", class:"form-control"%>
    </div>

    <%= f.submit "登録", class:"btn btn-info"%>

    <% end %>
</div>

<script>
    function aaa() {
        const URL = 'shori';
        let cd = $('#user_cd').val();
        axios.post(URL, {
            cd: cd
        }).then(function (response) { //非同期通信成功時

            $('#user_name').val(response.data.user_name);
        }).catch(function (error) {
            console.log("ERR------")
            console.log(error)
        }).finally(function () {

        }); //送信したいデータを渡す
    }
</script>
